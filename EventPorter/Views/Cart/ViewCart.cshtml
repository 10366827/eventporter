@model List<EventPorter.Models.CartEvent>
@{
    ViewBag.Title = "Cart";
}
<div class="panel-heading">
<h2 class="page-header">ViewCart</h2>
</div>

@*<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">*@

@section Styles{
    <link href="~/Content/styles/Cart.css" rel="stylesheet" type="text/css" />
    }

<div class="container">
    

    <table id="cart" class="table table-hover table-condensed">
        @if (Model != null && Model.Count > 0)
        {
            foreach (var c in Model)
            {
            <thead>
                <tr>
                    <th style="width:50%">Product</th>
                    <th style="width:10%">Price</th>
                    <th style="width:8%">Quantity</th>
                    <th style="width:22%" class="text-center">Subtotal</th>
                    <th style="width:10%"></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td data-th="Product">
                        <div class="row">
                            <div class="col-sm-2 hidden-xs">
                                <img src="http://placehold.it/100x100" alt="..." class="img-responsive" />
                            </div>
                            <div class="col-sm-10">
                                <h4 class="nomargin">@c.Title</h4>
                                <p>Description</p>
                            </div>
                        </div>
                    </td>
                    <td data-th="Price">@c.Price</td>
                    <td data-th="Quantity">
                        <input type="number" class="form-control text-center" value="1">
                    </td>
                    <td data-th="Subtotal" class="text-center">@c.Price</td>
                    <td class="actions" data-th="">
                        <i class="fa fa-trash-o"></i>@Ajax.ActionLink("Remove Item", "RemoveItemFromCart", "Cart", new { eventID = c.ID }, null, new { @class = "btn btn-danger btn-sm" })
                    </td>
                </tr>
            </tbody>
            }
        }
   
       @{ decimal priceHolder = 0; }
        <tfoot>
            <tr class="visible-xs">
            @if (Model != null && Model.Count > 0)
            {
                foreach (var e in Model)
                {
                    priceHolder += e.Price;
                }
                priceHolder = Math.Round(priceHolder, 2);
                <td class="text-center"><strong>@Html.Raw(priceHolder)</strong></td>
            }
            </tr>
            <tr>
                <td><i class="fa fa-angle-left"></i>@Html.ActionLink("Continue Shopping", "Index", "Home", null, new { @class = "btn btn-warning" })</td>
                @*<td><a href="#" class="btn btn-warning"><i class="fa fa-angle-left"></i> Continue Shopping</a></td>*@
                <td colspan="2" class="hidden-xs"></td>
                <td class="hidden-xs text-center"><strong></strong></td>
                <td>
                @Html.ActionLink("Checkout", "Checkout", "Cart", new { totalCost = @priceHolder }, new { @class= "btn btn-success btn-block" })
                @*<a href="#" class="btn btn-success btn-block">Checkout <i class="fa fa-angle-right"></i></a></td>*@
            </tr>
        </tfoot>
        
    </table>

    
</div>

